<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2024-10-23 Wed 04:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>The Emacs Operating System</title>
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<link rel="stylesheet" type="text/css" href="style.css" />
</head>
<body>
<div id="content" class="content">
<h1 class="title">The Emacs Operating System</h1>
<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#overview">1. Overview</a></li>
<li><a href="#initialization">2. Initialization</a>
<ul>
<li><a href="#faster-startup">2.1. Faster Startup</a></li>
<li><a href="#custom-variables">2.2. Custom Variables</a>
<ul>
<li><a href="#orga540257">2.2.1. Directories</a></li>
</ul>
</li>
<li><a href="#basics">2.3. Basics</a></li>
</ul>
</li>
<li><a href="#package-management">3. Package Management</a>
<ul>
<li><a href="#intialize-packages">3.1. Intialize packages</a>
<ul>
<li><a href="#orgbd28f27">3.1.1. Install straight.el</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#appearence">4. Appearence</a>
<ul>
<li><a href="#all-the-icons">4.1. All the Icons</a></li>
<li><a href="#themes">4.2. Themes</a></li>
<li><a href="#better-focus">4.3. Better Focus</a></li>
<li><a href="#transparency">4.4. Transparency</a></li>
<li><a href="#dashboard">4.5. Dashboard</a></li>
<li><a href="#modeline">4.6. Modeline</a></li>
<li><a href="#fancy-mini-buffer">4.7. Fancy Mini-Buffer</a></li>
<li><a href="#indentation">4.8. Indentation</a></li>
</ul>
</li>
<li><a href="#functionality">5. Functionality</a>
<ul>
<li><a href="#evil-mode">5.1. Evil Mode</a></li>
<li><a href="#org-mode">5.2. Org Mode</a>
<ul>
<li><a href="#orgc9776e5">5.2.1. Org TOC</a></li>
<li><a href="#orgd2ddfa2">5.2.2. Org Babel</a></li>
<li><a href="#org32ad05b">5.2.3. Org Hugo(ox-hugo)</a></li>
<li><a href="#org138657c">5.2.4. Org Download</a></li>
<li><a href="#orgd2031a4">5.2.5. Org Roam</a></li>
<li><a href="#org83d171a">5.2.6. Org Roam UI</a></li>
<li><a href="#org45f349a">5.2.7. Org Export Settings(htmlize)</a></li>
<li><a href="#org9a77a49">5.2.8. Human Readable IDs</a></li>
</ul>
</li>
<li><a href="#projectile">5.3. Projectile</a></li>
<li><a href="#version-control">5.4. Version Control</a>
<ul>
<li><a href="#orgc12dd7f">5.4.1. Magit</a></li>
<li><a href="#org3287cd3">5.4.2. Diff-hl</a></li>
</ul>
</li>
<li><a href="#completions">5.5. Completions</a>
<ul>
<li><a href="#orgc8f11c7">5.5.1. Ivy rich</a></li>
<li><a href="#org4347718">5.5.2. Hydra</a></li>
<li><a href="#org1609828">5.5.3. Which-key</a></li>
</ul>
</li>
<li><a href="#treemacs">5.6. Treemacs</a></li>
<li><a href="#restclient">5.7. RestClient</a></li>
<li><a href="#command-log-mode">5.8. Command-log-mode</a></li>
<li><a href="#vterm">5.9. Vterm</a></li>
</ul>
</li>
<li><a href="#system-configuration">6. System configuration</a>
<ul>
<li><a href="#emacs-environment-variables">6.1. Emacs environment variables</a></li>
</ul>
</li>
<li><a href="#code-completion">7. Code Completion</a>
<ul>
<li><a href="#treesitter">7.1. Tree-sitter</a></li>
</ul>
</li>
<li><a href="#programming-stuff">8. Programming stuff</a>
<ul>
<li><a href="#eglot">8.1. Eglot</a></li>
<li><a href="#go">8.2. Go</a></li>
<li><a href="#rust">8.3. Rust</a></li>
<li><a href="#haskell">8.4. Haskell</a></li>
<li><a href="#typst">8.5. Typst</a></li>
<li><a href="#latex">8.6. LaTex</a></li>
<li><a href="#yaml">8.7. Yaml</a></li>
<li><a href="#markdown">8.8. Markdown</a></li>
<li><a href="#lua">8.9. Lua</a></li>
</ul>
</li>
<li><a href="#ai-stuff">9. Non-Human Intelligence</a>
<ul>
<li><a href="#copilot">9.1. Copilot</a></li>
</ul>
</li>
<li><a href="#music-player">10. Music Player</a></li>
<li><a href="#miscellaneous">11. Miscellaneous</a>
<ul>
<li><a href="#custom-functions">11.1. Custom Functions</a></li>
<li><a href="#custom-keybindings">11.2. Custom keybindings</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-overview" class="outline-2">
<h2 id="overview"><span class="section-number-2">1.</span> Overview</h2>
<div class="outline-text-2" id="text-overview">
<p>
Why do I like Emacs, you ask? For me, it's like riding a sports bike;
it's not for everyone, but it's exhilarating! It has its quirks and
might not be the most efficient tool for the job, but it’s a joy to
use. As a "professional" programmer, I should probably use the most
efficient tool for the job, but as long as my employers can't tell the
difference, I'll stick with Emacs.
</p>


<div id="org04a84e3" class="figure">
<p><img src="https://imgs.xkcd.com/comics/real_programmers.png" alt="real_programmers.png" />
</p>
</div>
</div>
</div>
<div id="outline-container-initialization" class="outline-2">
<h2 id="initialization"><span class="section-number-2">2.</span> Initialization</h2>
<div class="outline-text-2" id="text-initialization">
</div>
<div id="outline-container-faster-startup" class="outline-3">
<h3 id="faster-startup"><span class="section-number-3">2.1.</span> Faster Startup</h3>
<div class="outline-text-3" id="text-faster-startup">
<p>
Increasing the garbage collection threshold during startup can reduce
time spent in GC, speeding things up:
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Increase to 50MB during startup</span>
(<span class="org-keyword">setq</span> gc-cons-threshold (* 50 1000 1000))
(add-hook 'emacs-startup-hook
          <span class="org-comment-delimiter">;; </span><span class="org-comment">Restore to 2MB after startup</span>
          (<span class="org-keyword">lambda</span> () (<span class="org-keyword">setq</span> gc-cons-threshold (* 2 1000 1000))))
</pre>
</div>
</div>
</div>
<div id="outline-container-custom-variables" class="outline-3">
<h3 id="custom-variables"><span class="section-number-3">2.2.</span> Custom Variables</h3>
<div class="outline-text-3" id="text-custom-variables">
</div>
<div id="outline-container-orga540257" class="outline-4">
<h4 id="orga540257"><span class="section-number-4">2.2.1.</span> Directories</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
Consolidate all the directories here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Define custom variables for directories</span>
(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/org-images-dir</span> <span class="org-string">"~/Documents/org/images"</span>
  <span class="org-doc">"Directory to store images downloaded with org-download."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/org-roam-dir</span> <span class="org-string">"~/Documents/org/hivemind/notes"</span>
  <span class="org-doc">"Directory to store org-roam notes."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/emacs-backup-dir</span> <span class="org-string">"~/.emacs.d/emacs-backup"</span>
  <span class="org-doc">"Directory where Emacs backup files are stored."</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Don't create these directories if not present</span>
(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/dev-dir</span> <span class="org-string">"~/dev"</span>
  <span class="org-doc">"Directory for personal development projects."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/work-dir</span> <span class="org-string">"~/work"</span>
  <span class="org-doc">"Directory for work projects."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/school-dir</span> <span class="org-string">"~/school"</span>
  <span class="org-doc">"Directory for school projects."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/project-dirs</span>
  (list eos/dev-dir eos/work-dir eos/school-dir)
  <span class="org-doc">"List of all directories for personal, work, and school projects."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">eos/music-dir</span> <span class="org-string">"~/Documents/Music"</span>
  <span class="org-doc">"Directory for local music files."</span>)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Function to ensure a directory exists</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">eos/ensure-directory-exists</span> (dir)
  <span class="org-doc">"Ensure that the directory DIR exists. Create it if necessary."</span>
  (<span class="org-keyword">unless</span> (file-exists-p dir)
    (make-directory dir t)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Ensure required directories exist</span>
(mapc #'eos/ensure-directory-exists
      (list eos/org-images-dir
            eos/org-roam-dir
            eos/emacs-backup-dir))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-basics" class="outline-3">
<h3 id="basics"><span class="section-number-3">2.3.</span> Basics</h3>
<div class="outline-text-3" id="text-basics">
<p>
Basic setup for Emacs appearance and behavior.
</p>

<ul class="org-ul">
<li><p>
Disable toolbars, scrollbars, and tooltips.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(scroll-bar-mode -1)
(tool-bar-mode -1)
(tooltip-mode -1)
(set-fringe-mode 0)
(menu-bar-mode -1)
</pre>
</div></li>

<li><p>
Set scroll length
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> scroll-step 1 scroll-conservatively 10000)
</pre>
</div></li>

<li><p>
Set visible bell
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> visible-bell t)
</pre>
</div></li>

<li><p>
Set fonts. TODO: Check if the font exists
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(set-face-attribute 'default nil :font "Cascadia Code NF" :height 160)</span>
(set-face-attribute 'default nil <span class="org-builtin">:font</span> <span class="org-string">"Iosevka"</span> <span class="org-builtin">:height</span> 160)
</pre>
</div></li>

<li><p>
Configure line numbers
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;;</span><span class="org-comment">(global-display-line-numbers-mode t)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">We don't want line numbers in certain modes, e.g., shell and pdf-view</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(dolist (mode '(org-mode-hook</span>
<span class="org-comment-delimiter">;;                 </span><span class="org-comment">term-mode-hook</span>
<span class="org-comment-delimiter">;;                 </span><span class="org-comment">eshell-mode-hook</span>
<span class="org-comment-delimiter">;;                 </span><span class="org-comment">shell-mode-hook</span>
<span class="org-comment-delimiter">;;                 </span><span class="org-comment">pdf-view-mode-hook))</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(add-hook mode (lambda () (display-line-numbers-mode 0))))</span>

(add-hook 'prog-mode-hook 'display-line-numbers-mode)
</pre>
</div></li>

<li><p>
Configure tabs behavior
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">(tab-bar-mode 1)</span>
(<span class="org-keyword">setq-default</span> indent-tabs-mode nil)
(<span class="org-keyword">setq-default</span> tab-width 4)
(<span class="org-keyword">setq</span> indent-line-function 'insert-tab)
</pre>
</div></li>

<li><p>
Display vertical line at 79 characters
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> display-fill-column-indicator-column 79)
(add-hook 'prog-mode-hook 'display-fill-column-indicator-mode)
</pre>
</div></li>

<li><p>
Customize window behavior.
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Start emacs in fullscreen mode (Mac tiling manager conflict)</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'initial-frame-alist '(fullscreen . maximized))</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'default-frame-alist '(fullscreen . maximized))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Remove title bar with maximize and minimize options</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'default-frame-alist '(undecorated . t))</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'default-frame-alist '(drag-internal-border . 1))</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Add an empty header if title bars are removed</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq-default header-line-format " ")</span>


<span class="org-comment-delimiter">;; </span><span class="org-comment">This displays "Emacs - buffer_name"</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq frame-title-format</span>
<span class="org-comment-delimiter">;;       </span><span class="org-comment">'("Emacs - %b"))  </span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-to-list 'default-frame-alist</span>
<span class="org-comment-delimiter">;;              </span><span class="org-comment">'(title . "Emacs"))</span>

(<span class="org-keyword">setq</span> frame-title-format <span class="org-string">"I see dead people.\n"</span>)
(add-to-list 'default-frame-alist '(ns-transparent-titlebar . t))
(add-to-list 'default-frame-alist '(ns-appearance . dark))
(<span class="org-keyword">setq</span> ns-use-proxy-icon nil)

</pre>
</div></li>

<li><p>
Backup in one place, flat, no tree structure
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> backup-directory-alist `((<span class="org-string">".*"</span> . ,eos/emacs-backup-dir)))
</pre>
</div></li>

<li><p>
Miscellaneous
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Truncate long lines in certain modes</span>
(add-hook 'org-mode-hook (<span class="org-keyword">lambda</span>() (<span class="org-keyword">setq</span> truncate-lines nil)))

</pre>
</div></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-package-management" class="outline-2">
<h2 id="package-management"><span class="section-number-2">3.</span> Package Management</h2>
<div class="outline-text-2" id="text-package-management">
<p>
Setting up package managers and installing essential packages.
</p>
</div>
<div id="outline-container-intialize-packages" class="outline-3">
<h3 id="intialize-packages"><span class="section-number-3">3.1.</span> Intialize packages</h3>
<div class="outline-text-3" id="text-intialize-packages">
<ul class="org-ul">
<li>Initialize Melpa</li>
</ul>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">package</span>)
(<span class="org-keyword">setq</span> package-archives '((<span class="org-string">"elpa"</span>   . <span class="org-string">"https://elpa.gnu.org/packages/"</span>)
                         (<span class="org-string">"melpa"</span>  . <span class="org-string">"https://melpa.org/packages/"</span>)
                         (<span class="org-string">"melpa-stable"</span> . <span class="org-string">"https://stable.melpa.org/packages/"</span>)
                         (<span class="org-string">"org"</span> . <span class="org-string">"https://orgmode.org/elpa/"</span>)))

(package-initialize)
(<span class="org-keyword">unless</span> package-archive-contents
  (package-refresh-contents))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Initialize use-package on non-linux platforms</span>
(<span class="org-keyword">unless</span> (package-installed-p 'use-package)
  (package-install 'use-package))
(<span class="org-keyword">require</span> '<span class="org-constant">use-package</span>)
(<span class="org-keyword">setq</span> use-package-always-ensure t)
</pre>
</div>
</div>
<div id="outline-container-orgbd28f27" class="outline-4">
<h4 id="orgbd28f27"><span class="section-number-4">3.1.1.</span> Install straight.el</h4>
<div class="outline-text-4" id="text-3-1-1">
<p>
<code>use-package</code> does not support the additional properties  like :type,
:host, :repo, etc.). Instead, We want tose the straight.el package
manager to handle packages from non-standard sources like Git
repositories.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">defvar</span> <span class="org-variable-name">bootstrap-version</span>)
(<span class="org-keyword">let</span> ((bootstrap-file
       (expand-file-name
        <span class="org-string">"straight/repos/straight.el/bootstrap.el"</span>
        (<span class="org-keyword">or</span> (<span class="org-keyword">bound-and-true-p</span> straight-base-dir)
            user-emacs-directory)))
      (bootstrap-version 7))
  (<span class="org-keyword">unless</span> (file-exists-p bootstrap-file)
    (<span class="org-keyword">with-current-buffer</span>
        (url-retrieve-synchronously
         <span class="org-string">"https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"</span>
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> straight-use-package-by-default t)
</pre>
</div>

<p>
Avoid Org version mismatch with Straight.el
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package '(org <span class="org-builtin">:type</span> built-in))
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-appearence" class="outline-2">
<h2 id="appearence"><span class="section-number-2">4.</span> Appearence</h2>
<div class="outline-text-2" id="text-appearence">
</div>
<div id="outline-container-all-the-icons" class="outline-3">
<h3 id="all-the-icons"><span class="section-number-3">4.1.</span> All the Icons</h3>
<div class="outline-text-3" id="text-all-the-icons">
<p>
Why we need all the icons? Because they are pretty.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> all-the-icons
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>
<div id="outline-container-themes" class="outline-3">
<h3 id="themes"><span class="section-number-3">4.2.</span> Themes</h3>
<div class="outline-text-3" id="text-themes">
<p>
Doom Emacs has consolidated a bunch of nice looking themes, we would
like to get them all.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> doom-themes
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"doomemacs/themes"</span>)
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Global settings (defaults)</span>
  (<span class="org-keyword">setq</span> doom-themes-enable-bold t    <span class="org-comment-delimiter">; </span><span class="org-comment">If nil, bold is universally disabled</span>
        doom-themes-enable-italic t) <span class="org-comment-delimiter">; </span><span class="org-comment">If nil, italics is universally disabled</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable flashing mode-line on errors</span>
  (doom-themes-visual-bell-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable custom neotree theme (all-the-icons must be installed!)</span>
  (doom-themes-neotree-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">or for treemacs users</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(setq doom-themes-treemacs-theme "doom-gruvbox")</span>
  (doom-themes-treemacs-config)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Corrects (and improves) org-mode's native fontification.</span>
  (doom-themes-org-config))

(load-theme 'leuven t)
</pre>
</div>

<p>
I love how Org files look with poet theme, so it's a must.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> poet-theme
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>
</div>
</div>
<div id="outline-container-better-focus" class="outline-3">
<h3 id="better-focus"><span class="section-number-3">4.3.</span> Better Focus</h3>
<div class="outline-text-3" id="text-better-focus">
<p>
An asthetic plugin designed to visually distinguish "real" buffers
from "unreal" buffers (like popups, sidebars, log-buffers, etc) by
giving the later a slightly different background.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> solaire-mode
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:config</span>
  (solaire-global-mode +1))
</pre>
</div>

<p>
Dimmer mode indicates which buffer is currently active by dimming the
faces in the other buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> dimmer
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:config</span>
  (dimmer-configure-which-key)
  (dimmer-mode t))

(<span class="org-keyword">setq</span> dimmer-fraction .3)
</pre>
</div>
</div>
</div>
<div id="outline-container-transparency" class="outline-3">
<h3 id="transparency"><span class="section-number-3">4.4.</span> Transparency</h3>
<div class="outline-text-3" id="text-transparency">
<p>
Toggle transparency for fun and no profit. Emacs on MacOS doesn't
support transparency, However it's still fun to have it when using
a tiling window manager on a large monitor.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defvar</span> <span class="org-variable-name">transparency-level-active</span> 85
  <span class="org-doc">"Opacity level when Emacs is active."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">transparency-level-inactive</span> 85
  <span class="org-doc">"Opacity level when Emacs is inactive."</span>)

(<span class="org-keyword">defvar</span> <span class="org-variable-name">transparency-enabled</span> t
  <span class="org-doc">"Toggle for the transparency feature."</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-dashboard" class="outline-3">
<h3 id="dashboard"><span class="section-number-3">4.5.</span> Dashboard</h3>
<div class="outline-text-3" id="text-dashboard">
<p>
We would need emacs-dashboard package for an easier configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> dashboard
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> dashboard-center-content t)
  (<span class="org-keyword">setq</span> dashboard-show-shortcuts nil)
  <span class="org-builtin">:init</span>
  (dashboard-setup-startup-hook))
</pre>
</div>
</div>
</div>
<div id="outline-container-modeline" class="outline-3">
<h3 id="modeline"><span class="section-number-3">4.6.</span> Modeline</h3>
<div class="outline-text-3" id="text-modeline">
</div>
<ol class="org-ol">
<li><a id="orgf8df4ab"></a>Nano Modeline<br />
<div class="outline-text-5" id="text-4-6-0-1">
<p>
A minimal modeline for Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Hide the default mode line globally</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq-default mode-line-format nil)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Set the nano-modeline position to bottom before loading</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">nano-modeline.</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(setq nano-modeline-position 'nano-modeline-footer)</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Install nano-modeline</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">(use-package nano-modeline</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:ensure t</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:hook</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(prog-mode-hook . nano-modeline-prog-mode)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(text-mode-hook . nano-modeline-text-mode)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(org-mode-hook  . nano-modeline-org-mode)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">(term-mode-hook . nano-modeline-term-mode)</span>
<span class="org-comment-delimiter">;;   </span><span class="org-comment">:init (nano-modeline-prog-mode t))</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd5715dd"></a>Doom Modeline<br />
<div class="outline-text-5" id="text-4-6-0-2">
<p>
I keep getting bored with "nicer" looking modelines and keep coming
back to the default Emacs one. Here are a few tweaks to make it look
good.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">use-package</span> doom-modeline
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:init</span> (doom-modeline-mode 1))
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-fancy-mini-buffer" class="outline-3">
<h3 id="fancy-mini-buffer"><span class="section-number-3">4.7.</span> Fancy Mini-Buffer</h3>
<div class="outline-text-3" id="text-fancy-mini-buffer">
<p>
I like a floating minibuffer, but ivy-posframe] looks
better. Mini-frame mode is enabled by default.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> mini-frame
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:config</span>
  (mini-frame-mode 1))

<span class="org-comment-delimiter">;; </span><span class="org-comment">make sure they are in the middle of the screen</span>
(custom-set-variables
 '(mini-frame-show-parameters
   '((top . 200)
     (width . 0.7)
     (left . 0.5))))
</pre>
</div>
</div>
</div>
<div id="outline-container-indentation" class="outline-3">
<h3 id="indentation"><span class="section-number-3">4.8.</span> Indentation</h3>
<div class="outline-text-3" id="text-indentation">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> indent-bars
  <span class="org-builtin">:config</span>
  <span class="org-builtin">:custom</span>
  (indent-bars-treesit-support t)
  (indent-bars-treesit-ignore-blank-lines-types '(<span class="org-string">"module"</span>))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Add other languages as needed</span>
  (indent-bars-treesit-scope '((python function_definition class_definition for_statement
                                       if_statement with_statement while_statement)))
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Note: wrap may not be needed if no-descend-list is enough</span>
  <span class="org-comment-delimiter">;;</span><span class="org-comment">(indent-bars-treesit-wrap '((python argument_list parameters ; for python, as an example</span>
  <span class="org-comment-delimiter">;;</span><span class="org-comment">                      list list_comprehension</span>
  <span class="org-comment-delimiter">;;</span><span class="org-comment">                      dictionary dictionary_comprehension</span>
  <span class="org-comment-delimiter">;;</span><span class="org-comment">                      parenthesized_expression subscript)))</span>
  <span class="org-builtin">:hook</span> ((python-base-mode yaml-mode) . indent-bars-mode))

(indent-bars-mode -1)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-functionality" class="outline-2">
<h2 id="functionality"><span class="section-number-2">5.</span> Functionality</h2>
<div class="outline-text-2" id="text-functionality">
</div>
<div id="outline-container-evil-mode" class="outline-3">
<h3 id="evil-mode"><span class="section-number-3">5.1.</span> Evil Mode</h3>
<div class="outline-text-3" id="text-evil-mode">
<ul class="org-ul">
<li><p>
Since I have been using VI for quite sometime now, I don't want to
train myself to learn Emacs
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> evil
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> evil-want-integration t)
  (<span class="org-keyword">setq</span> evil-want-keybinding nil)
  (<span class="org-keyword">setq</span> evil-want-C-u-scroll t)
  (<span class="org-keyword">setq</span> evil-want-C-i-jump nil)
  <span class="org-builtin">:config</span>
  (evil-mode 1)
  (define-key evil-insert-state-map (kbd <span class="org-string">"C-g"</span>) 'evil-normal-state)
  (define-key evil-insert-state-map (kbd <span class="org-string">"C-h"</span>) 'evil-delete-backward-char-and-join))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Unbind certain keys</span>
(<span class="org-keyword">with-eval-after-load</span> 'evil-maps
  (define-key evil-motion-state-map (kbd <span class="org-string">"SPC"</span>) nil)
  (define-key evil-motion-state-map (kbd <span class="org-string">"RET"</span>) nil)
  (define-key evil-motion-state-map (kbd <span class="org-string">"TAB"</span>) nil))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Use visual line motions even outside of visual-line-mode buffers</span>
(evil-global-set-key 'motion <span class="org-string">"j"</span> 'evil-next-visual-line)
(evil-global-set-key 'motion <span class="org-string">"k"</span> 'evil-previous-visual-line)

(evil-set-initial-state 'messages-buffer-mode 'normal)
(evil-set-initial-state 'dashboard-mode 'normal)
</pre>
</div></li>

<li><p>
Evil on every mode
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">package: evil-collection</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Now be EVIL on every mode</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">TODO: Doesn't work</span>
(<span class="org-keyword">use-package</span> evil-collection
  <span class="org-builtin">:after</span> evil
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (evil-collection-init))
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-org-mode" class="outline-3">
<h3 id="org-mode"><span class="section-number-3">5.2.</span> Org Mode</h3>
<div class="outline-text-3" id="text-org-mode">
<p>
Org mode is probably the best thing happened to the mankind. j/k
By default Org mode doesn't look very nice, at least not as a word
processor. Our goal is to make it look like one.
</p>

<ul class="org-ul">
<li><p>
Enable indentation(org-indent-mode). To control individual files,
use <code>#+STARTUP: indent</code> or <code>#+STARTUP: noindent</code> .
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-startup-indented t)
</pre>
</div></li>

<li><p>
Set a conservative indentation, By default the value is set to 2
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-indent-indentation-per-level 2)
</pre>
</div></li>

<li><p>
Emacs shouldn't add whitespace to indent text.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-adapt-indentation nil)
</pre>
</div></li>

<li><p>
RETURN will follow links in org mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-return-follows-link  t)
</pre>
</div></li>

<li><p>
Show inline images in org mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-display-remote-inline-images 'cache) <span class="org-comment-delimiter">;; </span><span class="org-comment">enable caching</span>
</pre>
</div></li>

<li><p>
For shorthand completions, lile &lt;s-TAB for source code blocks.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">require</span> '<span class="org-constant">org-tempo</span>)
</pre>
</div></li>
</ul>
</div>
<div id="outline-container-orgc9776e5" class="outline-4">
<h4 id="orgc9776e5"><span class="section-number-4">5.2.1.</span> Org TOC</h4>
<div class="outline-text-4" id="text-5-2-1">
<p>
Create table of contents for Org files.
Usage:
</p>
<ul class="org-ul">
<li>Add table of content tags such as <code>TOC_2</code> and <code>TOC_2_gh</code></li>
<li>While at the TOC entry call <code>M-x org-open-at-point</code> (<code>C-c C-o</code>) to</li>
</ul>
<p>
jump to the corresponding heading.
</p>

<p>
ref: <a href="https://github.com/snosov1/toc-org">toc-org</a>
</p>
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> toc-org
  <span class="org-builtin">:hook</span> (org-mode . toc-org-enable)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> toc-org-hrefify-default <span class="org-string">"gh"</span>))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd2ddfa2" class="outline-4">
<h4 id="orgd2ddfa2"><span class="section-number-4">5.2.2.</span> Org Babel</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Active Babel languages
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(org-babel-do-load-languages
 'org-babel-load-languages
 '((C . t) (python . t) (haskell . t) ))
</pre>
</div>
</div>
</div>
<div id="outline-container-org32ad05b" class="outline-4">
<h4 id="org32ad05b"><span class="section-number-4">5.2.3.</span> Org Hugo(ox-hugo)</h4>
<div class="outline-text-4" id="text-5-2-3">
<p>
ox-hugo helps me manage my website using org files.
</p>

<p>
I couldn't install <code>tomelr</code> package, using <code>use-package</code>, so had to
install it manually. Edit: 08/09/2024 - Installed it using straight.el
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> tomelr
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"kaushalmodi/tomelr"</span> <span class="org-builtin">:files</span> (<span class="org-string">"*.el"</span>))
  <span class="org-builtin">:ensure</span> t)
</pre>
</div>


<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> ox-hugo
  <span class="org-builtin">:ensure</span> t   <span class="org-comment-delimiter">;</span><span class="org-comment">Auto-install the package from Melpa</span>
  <span class="org-builtin">:pin</span> melpa  <span class="org-comment-delimiter">;</span><span class="org-comment">`</span><span class="org-comment"><span class="org-constant">package-archives</span></span><span class="org-comment">' should already have ("melpa" . "https://melpa.org/packages/")</span>
  <span class="org-builtin">:after</span> ox)    

</pre>
</div>
</div>
</div>
<div id="outline-container-org138657c" class="outline-4">
<h4 id="org138657c"><span class="section-number-4">5.2.4.</span> Org Download</h4>
<div class="outline-text-4" id="text-5-2-4">
<p>
This nice package helps add images to an Org file in a better way.
</p>

<p>
Note: In order to copy from clipboard using <code>org-download-clipboard</code>,
we need to install <code>pngpaste</code> using Homebrew.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> org-download
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-c d"</span> . org-download-clipboard)
  <span class="org-builtin">:config</span>
  (org-download-enable))

(add-hook 'dired-mode-hook 'org-download-enable)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Set the image download directory</span>
(<span class="org-keyword">setq</span> org-download-image-dir eos/org-images-dir)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Set the image download to not depend on any headline</span>
(<span class="org-keyword">setq</span> org-download-heading-lvl nil)
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd2031a4" class="outline-4">
<h4 id="orgd2031a4"><span class="section-number-4">5.2.5.</span> Org Roam</h4>
<div class="outline-text-4" id="text-5-2-5">
<p>
A sophisticated note taking mechanishm. Essentially a clone of
<a href="https://roamresearch.com/">Roam-research</a> running on Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> org-roam
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c n l"</span> . org-roam-buffer-toggle)
         (<span class="org-string">"C-c n f"</span> . org-roam-node-find)
         (<span class="org-string">"C-c n g"</span> . org-roam-graph)
         (<span class="org-string">"C-c n c"</span> . org-roam-capture)
         (<span class="org-string">"C-c n i"</span> . org-roam-node-insert)
         (<span class="org-string">"C-c n t"</span> . org-roam-tag-add)
         (<span class="org-string">"C-c n b"</span> . org-roam-buffer-toggle)
         (<span class="org-string">"C-c n j"</span> . org-roam-dailies-capture-today))
  <span class="org-builtin">:pin</span> melpa-stable
  <span class="org-builtin">:config</span>
  (org-roam-setup))
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> org-roam-directory eos/org-roam-dir)
</pre>
</div>
</div>
<ol class="org-ol">
<li><a id="org8bf19c4"></a>Full text search with Deft<br />
<div class="outline-text-5" id="text-5-2-5-1">
<p>
Deft is an Emacs mode for quickly browsing and filtering plain text
notes.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> deft
  <span class="org-builtin">:after</span> org
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-c n d"</span> . deft)
  <span class="org-builtin">:custom</span>
  (deft-recursive t)
  (deft-use-filter-string-for-filename t)
  (deft-default-extension <span class="org-string">"org"</span>)
  (deft-directory org-roam-directory))
</pre>
</div>
</div>
</li>
<li><a id="org56e4683"></a>Backlink buffer<br />
<div class="outline-text-5" id="text-5-2-5-2">
<p>
Org-roam backlink buffer, <a href="https:github.com/org-roam/org-roam/wiki/Hitchhiker's-Rough-Guide-to-Org-roam-V2#backlink-buffer">source</a>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">for org-roam-buffer-toggle</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Recommendation in the official manual</span>
(add-to-list 'display-buffer-alist
             '(<span class="org-string">"\\*org-roam\\*"</span>
               (display-buffer-in-direction)
               (direction . right)
               (window-width . 0.33)
               (window-height . fit-window-to-buffer)))
</pre>
</div>
</div>
</li>
</ol>
</div>
<div id="outline-container-org83d171a" class="outline-4">
<h4 id="org83d171a"><span class="section-number-4">5.2.6.</span> Org Roam UI</h4>
<div class="outline-text-4" id="text-5-2-6">
<p>
A visual interface for Org Roam. 
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> org-roam-ui
  <span class="org-builtin">:straight</span>
  (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"org-roam/org-roam-ui"</span> <span class="org-builtin">:branch</span> <span class="org-string">"main"</span> <span class="org-builtin">:files</span> (<span class="org-string">"*.el"</span> <span class="org-string">"out"</span>))
  <span class="org-builtin">:after</span> org-roam
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">normally we'd recommend hooking orui after org-roam, but since org-roam does not have</span>
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">a hookable mode anymore, you're advised to pick something yourself</span>
  <span class="org-comment-delimiter">;;         </span><span class="org-comment">if you don't care about startup time, use</span>
  <span class="org-comment-delimiter">;;  </span><span class="org-comment">:hook (after-init . org-roam-ui-mode)</span>
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> org-roam-ui-sync-theme t
        org-roam-ui-follow t
        org-roam-ui-update-on-save t
        org-roam-ui-open-on-start t))

</pre>
</div>
</div>
</div>
<div id="outline-container-org45f349a" class="outline-4">
<h4 id="org45f349a"><span class="section-number-4">5.2.7.</span> Org Export Settings(htmlize)</h4>
<div class="outline-text-4" id="text-5-2-7">
<p>
Org mode usually ships with this package, However in certain cases you
might need to install it manually.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">use-package</span> htmlize
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">setq</span> org-html-htmlize-output-type 'css)
  (<span class="org-keyword">setq</span> org-html-htmlize-font-prefix <span class="org-string">"org-"</span>))

</pre>
</div>
</div>
</div>
<div id="outline-container-org9a77a49" class="outline-4">
<h4 id="org9a77a49"><span class="section-number-4">5.2.8.</span> Human Readable IDs</h4>
<div class="outline-text-4" id="text-5-2-8">
<p>
While exporting html, <code>org-html-export-to-html</code>  function generates
<code>IDs</code> for each header, so that it can get linked to from the Table of
contents. However, the default generated IDs aren't human-redable.
</p>

<p>
Also the default generated IDs can change every time you generate a new
version, which can be annoying while hosting a public website.
</p>

<p>
I have found some hacks on the internet and <a href="https://amitp.blogspot.com/2021/04/automatically-generate-ids-for-emacs.html">Amit Patel's</a> implementation
seemed like the simplest.
</p>


<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-comment-delimiter">;; </span><span class="org-comment">The only dependency</span>
(<span class="org-keyword">use-package</span> s
  <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">defun</span> <span class="org-function-name">eos/org-generate-custom-ids</span> ()
  <span class="org-doc">"Generate CUSTOM_ID for any headings that are missing one, but only in Org mode."</span>
  (<span class="org-keyword">when</span> (derived-mode-p 'org-mode)
    (<span class="org-keyword">let</span> ((existing-ids (org-map-entries 
                         (<span class="org-keyword">lambda</span> () (org-entry-get nil <span class="org-string">"CUSTOM_ID"</span>)))))

      (org-map-entries
       (<span class="org-keyword">lambda</span> ()
         (<span class="org-keyword">when</span> (org-at-heading-p)  <span class="org-comment-delimiter">;; </span><span class="org-comment">Ensure we're at a heading</span>
           (<span class="org-keyword">let*</span> ((custom-id (org-entry-get nil <span class="org-string">"CUSTOM_ID"</span>))
                  (heading (org-heading-components))
                  (level (nth 0 heading))
                  (todo (nth 2 heading))
                  (headline (nth 4 heading))
                  (slug (eos/title-to-filename headline))
                  (duplicate-id (member slug existing-ids)))
             (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (not custom-id)
                        (&lt; level 4)
                        (not todo)
                        (not duplicate-id))
               (message <span class="org-string">"Adding entry %s to %s"</span> slug headline)
               (org-entry-put nil <span class="org-string">"CUSTOM_ID"</span> slug)))))))))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Function to the after-save-hook only in Org mode</span>
(add-hook 'org-mode-hook
          (<span class="org-keyword">lambda</span> () 
            (add-hook 'after-save-hook 'eos/org-generate-custom-ids nil 'local)))

(<span class="org-keyword">defun</span> <span class="org-function-name">eos/title-to-filename</span> (title)
  <span class="org-doc">"Convert TITLE to a reasonable filename."</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Based on the slug logic in org-roam, but org-roam also uses a</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">timestamp, and I use only the slug. BTW "slug" comes from</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment"><a href="https://en.wikipedia.org/wiki/Clean_URL#Slug">&lt;https://en.wikipedia.org/wiki/Clean_URL#Slug&gt;</a></span>
  (<span class="org-keyword">setq</span> title (s-downcase title))
  (<span class="org-keyword">setq</span> title (s-replace-regexp <span class="org-string">"[</span><span class="org-string"><span class="org-negation-char">^</span></span><span class="org-string">a-zA-Z0-9]+"</span> <span class="org-string">"-"</span> title))
  (<span class="org-keyword">setq</span> title (s-replace-regexp <span class="org-string">"-+"</span> <span class="org-string">"-"</span> title))
  (<span class="org-keyword">setq</span> title (s-replace-regexp <span class="org-string">"^-"</span> <span class="org-string">""</span> title))
  (<span class="org-keyword">setq</span> title (s-replace-regexp <span class="org-string">"-$"</span> <span class="org-string">""</span> title))
  title)
</pre>
</div>


<p>
Run the function on save, while in org-mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-hook 'after-save-hook 'eos/org-generate-custom-ids)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-projectile" class="outline-3">
<h3 id="projectile"><span class="section-number-3">5.3.</span> Projectile</h3>
<div class="outline-text-3" id="text-projectile">
<p>
Projectile is instrumental in managing different projects and working
on them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">use-package</span> counsel-projectile
  <span class="org-builtin">:after</span> projectile
  <span class="org-builtin">:config</span> (counsel-projectile-mode))

(counsel-projectile-mode)

(<span class="org-keyword">use-package</span> projectile
  <span class="org-builtin">:diminish</span> projectile-mode
  <span class="org-builtin">:config</span> (projectile-mode)
  <span class="org-builtin">:custom</span> ((projectile-completion-system 'ivy))
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> projectile-mode-map
              (<span class="org-string">"C-c p"</span> . projectile-command-map))
  <span class="org-builtin">:init</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">NOTE: Set this to the folder where you keep your Git repos!</span>
  (<span class="org-keyword">setq</span> projectile-project-search-path eos/project-dirs)
  (<span class="org-keyword">setq</span> projectile-switch-project-action #'projectile-dired))

</pre>
</div>
</div>
</div>
<div id="outline-container-version-control" class="outline-3">
<h3 id="version-control"><span class="section-number-3">5.4.</span> Version Control</h3>
<div class="outline-text-3" id="text-version-control">
</div>
<div id="outline-container-orgc12dd7f" class="outline-4">
<h4 id="orgc12dd7f"><span class="section-number-4">5.4.1.</span> Magit</h4>
<div class="outline-text-4" id="text-5-4-1">
<p>
The magical Git client for emacs.
</p>

<p>
Since I am using emacs-plus, In order for spotlight to find the emacs
executable, I cpoied the executable to /Applications. However, After I
did that, Magit showed an error message saying that it could not find
the emacsclient executable. I had to set the variable
with-editor-emacsclient-executable to "emacsclient" in order to fix
the issue.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq-default</span> with-editor-emacsclient-executable <span class="org-string">"emacsclient"</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> magit
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:pin</span> melpa-stable)
</pre>
</div>
</div>
</div>
<div id="outline-container-org3287cd3" class="outline-4">
<h4 id="org3287cd3"><span class="section-number-4">5.4.2.</span> Diff-hl</h4>
<div class="outline-text-4" id="text-5-4-2">
<p>
Emacs port of the Sublime Git Gutter
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> diff-hl
  <span class="org-builtin">:straight</span> (diff-hl <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"dgutov/diff-hl"</span>)
  <span class="org-builtin">:hook</span> ((prog-mode . diff-hl-mode)
         (org-mode . diff-hl-mode)
         (text-mode . diff-hl-mode))
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Limit diff-hl to specific modes</span>
  (<span class="org-keyword">setq</span> diff-hl-global-modes '(not image-mode pdf-view-mode))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Use histogram diff algorithm</span>
  (<span class="org-keyword">setq</span> vc-git-diff-switches '(<span class="org-string">"--histogram"</span>))

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Slightly more conservative delay before updating the diff</span>
  (<span class="org-keyword">setq</span> diff-hl-flydiff-delay 0.5)  <span class="org-comment-delimiter">; </span><span class="org-comment">default: 0.3</span>

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Perform async updates to avoid blocking Emacs</span>
  (<span class="org-keyword">setq</span> diff-hl-update-async t)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Do not show staged changes in real-time</span>
  (<span class="org-keyword">setq</span> diff-hl-show-staged-changes nil)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable on-the-fly diff highlighting and margin mode</span>
  (diff-hl-flydiff-mode)
  (diff-hl-margin-mode))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-completions" class="outline-3">
<h3 id="completions"><span class="section-number-3">5.5.</span> Completions</h3>
<div class="outline-text-3" id="text-completions">
<p>
Set up Ivy, Counsel, and Swiper for better completions.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> counsel
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:diminish</span>
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-s"</span> . swiper)                         <span class="org-comment-delimiter">;; </span><span class="org-comment">Search using Swiper</span>
         (<span class="org-string">"M-x"</span> . counsel-M-x)                    <span class="org-comment-delimiter">;; </span><span class="org-comment">Enhanced M-x</span>
         (<span class="org-string">"s-x"</span> . counsel-M-x)                    <span class="org-comment-delimiter">;; </span><span class="org-comment">Super-X for M-x</span>
         (<span class="org-string">"C-x C-f"</span> . counsel-find-file)          <span class="org-comment-delimiter">;; </span><span class="org-comment">Enhanced find file</span>
         (<span class="org-string">"C-x b"</span> . ivy-switch-buffer)            <span class="org-comment-delimiter">;; </span><span class="org-comment">Show filtered buffers (code buffers)</span>
         (<span class="org-string">"C-x B"</span> . counsel-ibuffer)              <span class="org-comment-delimiter">;; </span><span class="org-comment">Show all buffers</span>
         <span class="org-builtin">:map</span> minibuffer-local-map
         (<span class="org-string">"C-x C-r"</span> . counsel-minibuffer-history) <span class="org-comment-delimiter">;; </span><span class="org-comment">Access minibuffer history</span>
         <span class="org-builtin">:map</span> ivy-minibuffer-map
         (<span class="org-string">"C-j"</span> . ivy-next-line)                  <span class="org-comment-delimiter">;; </span><span class="org-comment">Move down the list</span>
         (<span class="org-string">"C-k"</span> . ivy-previous-line)              <span class="org-comment-delimiter">;; </span><span class="org-comment">Move up the list</span>
         (<span class="org-string">"C-f"</span> . ivy-alt-done)                   <span class="org-comment-delimiter">;; </span><span class="org-comment">Complete selection</span>
         <span class="org-builtin">:map</span> ivy-switch-buffer-map
         (<span class="org-string">"C-k"</span> . ivy-previous-line)              <span class="org-comment-delimiter">;; </span><span class="org-comment">Move up in buffer list</span>
         (<span class="org-string">"C-d"</span> . ivy-switch-buffer-kill)         <span class="org-comment-delimiter">;; </span><span class="org-comment">Kill selected buffer</span>
         (<span class="org-string">"C-f"</span> . ivy-done)                       <span class="org-comment-delimiter">;; </span><span class="org-comment">Complete buffer selection</span>
         <span class="org-builtin">:map</span> ivy-reverse-i-search-map
         (<span class="org-string">"C-k"</span> . ivy-previous-line)              <span class="org-comment-delimiter">;; </span><span class="org-comment">Move up in reverse search</span>
         (<span class="org-string">"C-d"</span> . ivy-reverse-i-search-kill))     <span class="org-comment-delimiter">;; </span><span class="org-comment">Kill in reverse search</span>
  <span class="org-builtin">:custom</span>
  (counsel-linux-app-format-function #'counsel-linux-app-format-function-name-only)
  <span class="org-builtin">:init</span>
  (ivy-mode 1)                                    <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable Ivy</span>
  <span class="org-builtin">:config</span>
  (counsel-mode 1))                               <span class="org-comment-delimiter">;; </span><span class="org-comment">Enable Counsel</span>
</pre>
</div>

<p>
<code>C-x b</code> doesn't show emacs garbage buffers, <code>C-x B</code> shows all the buffers.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Configure ivy-switch-buffer (C-x b) to ignore certain buffers</span>
(<span class="org-keyword">setq</span> ivy-ignore-buffers
      '(<span class="org-string">"\\` "</span>
        <span class="org-string">"\\`\\*"</span>
        <span class="org-string">"\\`magit"</span>
        <span class="org-string">"\\`</span><span class="org-string"><span class="org-constant"><span class="org-constant">.+_archive\\</span></span></span><span class="org-string">'"</span>
        <span class="org-string">"\\`</span><span class="org-string"><span class="org-constant"><span class="org-constant">TAGS\\</span></span></span><span class="org-string">'"</span>
        <span class="org-string">"\\`</span><span class="org-string"><span class="org-constant"><span class="org-constant">COMMIT_EDITMSG\\</span></span></span><span class="org-string">'"</span>
        <span class="org-string">"\\`</span><span class="org-string"><span class="org-constant"><span class="org-constant">MERGE_MSG\\</span></span></span><span class="org-string">'"</span>
        <span class="org-string">"\\`</span><span class="org-string"><span class="org-constant"><span class="org-constant">undo-tree\\*\\</span></span></span><span class="org-string">'"</span>))
</pre>
</div>

<p>
Prescient settings for sorting and filtering.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Package: ivy-prescient</span>
(<span class="org-keyword">use-package</span> ivy-prescient
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:after</span> counsel
  <span class="org-builtin">:custom</span>
  (ivy-prescient-enable-filtering nil)           <span class="org-comment-delimiter">;; </span><span class="org-comment">Disable filtering</span>
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Uncomment the following line to persist sorting across sessions</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(prescient-persist-mode 1)</span>
  (ivy-prescient-mode 1))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Remove the "^" character from counsel-M-x</span>
(setcdr (assoc 'counsel-M-x ivy-initial-inputs-alist) <span class="org-string">""</span>)
</pre>
</div>
</div>
<div id="outline-container-orgc8f11c7" class="outline-4">
<h4 id="orgc8f11c7"><span class="section-number-4">5.5.1.</span> Ivy rich</h4>
<div class="outline-text-4" id="text-5-5-1">
<p>
Ivy-rich for better Ivy interface
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">package: ivy-rich</span>
(<span class="org-keyword">use-package</span> ivy-rich
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:init</span>
  (ivy-rich-mode 1))

<span class="org-comment-delimiter">;; </span><span class="org-comment">All the icons + Ivy</span>
(<span class="org-keyword">use-package</span> all-the-icons-ivy-rich
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span> (all-the-icons-ivy-rich-mode 1))
</pre>
</div>
</div>
</div>
<div id="outline-container-org4347718" class="outline-4">
<h4 id="org4347718"><span class="section-number-4">5.5.2.</span> Hydra</h4>
<div class="outline-text-4" id="text-5-5-2">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> hydra
  <span class="org-builtin">:defer</span> t)

(<span class="org-keyword">defhydra</span> hydra-text-scale (<span class="org-builtin">:timeout</span> 4)
  <span class="org-doc">"scale text"</span>
  (<span class="org-string">"j"</span> text-scale-increase <span class="org-string">"in"</span>)
  (<span class="org-string">"k"</span> text-scale-decrease <span class="org-string">"out"</span>)
  (<span class="org-string">"f"</span> nil <span class="org-string">"finished"</span> <span class="org-builtin">:exit</span> t))
</pre>
</div>
</div>
</div>
<div id="outline-container-org1609828" class="outline-4">
<h4 id="org1609828"><span class="section-number-4">5.5.3.</span> Which-key</h4>
<div class="outline-text-4" id="text-5-5-3">
<p>
It's a minor mode that shows kebindings for an incomplete command.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> which-key
  <span class="org-builtin">:init</span>
  (which-key-mode))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-treemacs" class="outline-3">
<h3 id="treemacs"><span class="section-number-3">5.6.</span> Treemacs</h3>
<div class="outline-text-3" id="text-treemacs">
<p>
Unless it's a large project, I don't use Treemacs. However, it gets
quite annoying while switching project since <code>treemacs-follow-mode</code>
sometimes doesn't work as intended.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> treemacs
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:defer</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">with-eval-after-load</span> 'winum
    (define-key winum-keymap (kbd <span class="org-string">"M-0"</span>) #'treemacs-select-window))
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">progn</span>
    (<span class="org-keyword">setq</span> treemacs-collapse-dirs                 (<span class="org-keyword">if</span> (treemacs--find-python3) 3 0)
          treemacs-deferred-git-apply-delay      0.5
          treemacs-width                         35)

    (treemacs-resize-icons 18)
    (treemacs-follow-mode t)
    (treemacs-project-follow-mode t)
    (treemacs-filewatch-mode t)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">(add-hook 'projectile-after-switch-project-hook 'treemacs-add-and-display-current-project-exclusively)</span>

(<span class="org-keyword">use-package</span> treemacs-evil
  <span class="org-builtin">:after</span> (treemacs evil)
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:pin</span> melpa)

(<span class="org-keyword">use-package</span> treemacs-projectile
  <span class="org-builtin">:after</span> (treemacs projectile)
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:pin</span> melpa) 

</pre>
</div>
</div>
</div>
<div id="outline-container-restclient" class="outline-3">
<h3 id="restclient"><span class="section-number-3">5.7.</span> RestClient</h3>
<div class="outline-text-3" id="text-restclient">
<p>
Postman for Emacs, A mode to run HTTP queries.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> restclient
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:pin</span> melpa
  <span class="org-builtin">:mode</span> ((<span class="org-string">"\\.http\\'"</span> . restclient-mode)))
</pre>
</div>
</div>
</div>
<div id="outline-container-command-log-mode" class="outline-3">
<h3 id="command-log-mode"><span class="section-number-3">5.8.</span> Command-log-mode</h3>
<div class="outline-text-3" id="text-command-log-mode">
<p>
Show event and command history, really helpful while debugging Emacs
configs. Default binding to toggle is <code>C-c M-c</code>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> command-log-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:bind</span>
  (<span class="org-string">"C-c M-c"</span> . clm/toggle-command-log-buffer)
  <span class="org-builtin">:config</span>
  (global-command-log-mode t)
  <span class="org-builtin">:pin</span> melpa)
</pre>
</div>
</div>
</div>
<div id="outline-container-vterm" class="outline-3">
<h3 id="vterm"><span class="section-number-3">5.9.</span> Vterm</h3>
<div class="outline-text-3" id="text-vterm">
<p>
Probably the only usable terminal emulator for Emacs
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> vterm
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:straight</span> t)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-system-configuration" class="outline-2">
<h2 id="system-configuration"><span class="section-number-2">6.</span> System configuration</h2>
<div class="outline-text-2" id="text-system-configuration">
</div>
<div id="outline-container-emacs-environment-variables" class="outline-3">
<h3 id="emacs-environment-variables"><span class="section-number-3">6.1.</span> Emacs environment variables</h3>
<div class="outline-text-3" id="text-emacs-environment-variables">
<p>
Ensure Emacs env variables match system variables.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> exec-path-from-shell
  <span class="org-builtin">:ensure</span> t)

(<span class="org-keyword">when</span> (memq window-system '(mac ns x))
  (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-code-completion" class="outline-2">
<h2 id="code-completion"><span class="section-number-2">7.</span> Code Completion</h2>
<div class="outline-text-2" id="text-code-completion">
</div>
<div id="outline-container-treesitter" class="outline-3">
<h3 id="treesitter"><span class="section-number-3">7.1.</span> Tree-sitter</h3>
<div class="outline-text-3" id="text-treesitter">
<p>
Tree-sitter is a parser generator tool and an incremental parsing
library. It can build a concrete syntax tree for a source file and
efficiently update the syntax tree as the source file is edited.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">setq</span> treesit-language-source-alist
      '(  <span class="org-comment-delimiter">; </span><span class="org-comment">use `</span><span class="org-comment"><span class="org-constant">sort-lines</span></span><span class="org-comment">' to sort</span>
        (bash . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-bash"</span>))
        (c . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-c"</span>))
        (cpp . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-cpp"</span>))
        (css <span class="org-string">"https://github.com/tree-sitter/tree-sitter-css"</span>)
        (go <span class="org-string">"https://github.com/tree-sitter/tree-sitter-go"</span>)
        (gomod <span class="org-string">"https://github.com/camdencheek/tree-sitter-go-mod"</span>)
        (html <span class="org-string">"https://github.com/tree-sitter/tree-sitter-html"</span>)
        (java <span class="org-string">"https://github.com/tree-sitter/tree-sitter-java"</span>)
        (javascript <span class="org-string">"https://github.com/tree-sitter/tree-sitter-javascript"</span>)
        (json <span class="org-string">"https://github.com/tree-sitter/tree-sitter-json"</span>)
        (kotlin <span class="org-string">"https://github.com/fwcd/tree-sitter-kotlin"</span>)
        (python . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-python"</span>))
        (rust <span class="org-string">"https://github.com/tree-sitter/tree-sitter-rust"</span>)
        (tsx . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-typescript"</span> nil <span class="org-string">"tsx/src"</span>))
        (typescript . (<span class="org-string">"https://github.com/tree-sitter/tree-sitter-typescript"</span> nil <span class="org-string">"typescript/src"</span>))
        (typst <span class="org-string">"https://github.com/uben0/tree-sitter-typst"</span>)
        (vue <span class="org-string">"https://github.com/ikatyang/tree-sitter-vue"</span>)
        (yaml <span class="org-string">"https://github.com/ikatyang/tree-sitter-yaml"</span>)
        (toml <span class="org-string">"https://github.com/ikatyang/tree-sitter-toml"</span>)))


(<span class="org-keyword">defun</span> <span class="org-function-name">eos/treesit-install-all-languages</span> ()
  <span class="org-doc">"Install all languages specified by `</span><span class="org-doc"><span class="org-constant">treesit-language-source-alist</span></span><span class="org-doc">'."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">let</span> ((languages (mapcar 'car treesit-language-source-alist)))
    (<span class="org-keyword">dolist</span> (lang languages)
      (treesit-install-language-grammar lang)
      (message <span class="org-string">"`</span><span class="org-string"><span class="org-constant">%s</span></span><span class="org-string">' parser was installed."</span> lang)
      (sit-for 0.75))))

</pre>
</div>

<p>
Custom functions to check and install tree-sitter.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
<span class="org-comment-delimiter">;; </span><span class="org-comment">Checks if a specific tree-sitter grammar file exists.</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">treesit-grammar-installed-p</span> (grammar-file)
  <span class="org-doc">"Check if a specific tree-sitter GRAMMAR-FILE is installed."</span>
  (file-exists-p grammar-file))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Ensures that a tree-sitter grammar for a given language is</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">installed, checking if the grammar file is present and if tree-sitter</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">is available.</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">ensure-treesit-grammar-installed</span> (language grammar-file)
  <span class="org-doc">"Ensure a tree-sitter grammar for LANGUAGE is installed.</span>
<span class="org-doc">   GRAMMAR-FILE is the path to the grammar file."</span>
  (<span class="org-keyword">unless</span> (treesit-grammar-installed-p grammar-file)
    (<span class="org-keyword">when</span> (<span class="org-keyword">and</span> (fboundp 'treesit-available-p)
               (treesit-available-p))
      (treesit-install-language-grammar language))))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-programming-stuff" class="outline-2">
<h2 id="programming-stuff"><span class="section-number-2">8.</span> Programming stuff</h2>
<div class="outline-text-2" id="text-programming-stuff">
<p>
This section has configurations for various programming language modes.
</p>
</div>
<div id="outline-container-eglot" class="outline-3">
<h3 id="eglot"><span class="section-number-3">8.1.</span> Eglot</h3>
<div class="outline-text-3" id="text-eglot">
<p>
Language Server Protocol can provide IDE like support for multiple
programming languages on Emacs.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">setq</span> eglot-ensure <span class="org-string">"C-c l"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-go" class="outline-3">
<h3 id="go"><span class="section-number-3">8.2.</span> Go</h3>
<div class="outline-text-3" id="text-go">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> go-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">push</span> '(<span class="org-string">"\\.go\\'"</span> . go-mode) auto-mode-alist))
</pre>
</div>


<p>
Eglot hooks for Go
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">lsp-go-install-save-hooks</span> ()
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Format before save</span>
  (add-hook 'before-save-hook #'eglot-format-buffer t t)
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Sort imports before save</span>
  (add-hook 'before-save-hook #'eglot-code-action-organize-imports t t))


(add-hook 'go-mode-hook #'lsp-go-install-save-hooks)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Start eglot mode</span>
(add-hook 'go-mode-hook 'eglot-ensure)
</pre>
</div>
</div>
</div>
<div id="outline-container-rust" class="outline-3">
<h3 id="rust"><span class="section-number-3">8.3.</span> Rust</h3>
<div class="outline-text-3" id="text-rust">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> rust-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">push</span> '(<span class="org-string">"\\.rs\\'"</span> . rust-mode) auto-mode-alist))
</pre>
</div>
</div>
</div>
<div id="outline-container-haskell" class="outline-3">
<h3 id="haskell"><span class="section-number-3">8.4.</span> Haskell</h3>
<div class="outline-text-3" id="text-haskell">
<p>
Am I a 21st century Hippie now?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> haskell-mode
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"haskell/haskell-mode"</span>)
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.hs\\'"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-typst" class="outline-3">
<h3 id="typst"><span class="section-number-3">8.5.</span> Typst</h3>
<div class="outline-text-3" id="text-typst">
<p>
Seems like a decent alternative to LaTex.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Ensure Typst tree-sit grammar is installed</span>
(ensure-treesit-grammar-installed 'typst (expand-file-name <span class="org-string">"tree-sitter/libtree-sitter-typst.dylib"</span> user-emacs-directory))

(<span class="org-keyword">use-package</span> typst-ts-mode
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> sourcehut <span class="org-builtin">:repo</span> <span class="org-string">"meow_king/typst-ts-mode"</span> <span class="org-builtin">:files</span> (<span class="org-builtin">:defaults</span> <span class="org-string">"*.el"</span>))
  <span class="org-builtin">:custom</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">(optional) If you want to ensure your typst tree sitter grammar version is greater than the minimum requirement</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Note this only checks and compares file modification time</span>
  (typst-ts-mode-grammar-location (expand-file-name <span class="org-string">"tree-sitter/libtree-sitter-typst.dylib"</span> user-emacs-directory)))
</pre>
</div>


<p>
Modify typst-ts-compile to use absolute path.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">typst-ts-compile</span> ()
  <span class="org-doc">"Compile current Typst file."</span>
  (<span class="org-keyword">interactive</span>)
  (run-hooks typst-ts-compile-before-compilation-hook)
  (<span class="org-keyword">let</span> ((full-file-path (expand-file-name buffer-file-name)))
    (add-hook 'compilation-finish-functions
              (typst-ts-compile--compilation-finish-function (current-buffer)))
    (compile
     (format <span class="org-string">"%s compile %s %s"</span>
             typst-ts-compile-executable-location
             full-file-path
             typst-ts-compile-options)
     'typst-ts-compilation-mode)))
</pre>
</div>

<p>
Custom functions to ask for root directory.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defcustom</span> <span class="org-variable-name">typst-ts-root-folder</span> nil
  <span class="org-doc">"Root folder for Typst projects."</span>
  <span class="org-builtin">:type</span> 'directory
  <span class="org-builtin">:group</span> 'typst-ts-compile)

(<span class="org-keyword">defun</span> <span class="org-function-name">typst-ts-set-root-folder</span> (folder)
  <span class="org-doc">"Set the root folder for Typst projects."</span>
  (<span class="org-keyword">interactive</span> <span class="org-string">"DSelect Typst root folder: "</span>)
  (<span class="org-keyword">setq</span> typst-ts-root-folder folder)
  (setenv <span class="org-string">"TYPST_ROOT"</span> folder)
  (message <span class="org-string">"Typst root folder set to: %s"</span> folder))

(<span class="org-keyword">defun</span> <span class="org-function-name">typst-ts-compile-with-root</span> ()
  <span class="org-doc">"Compile current Typst file with the root folder set."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">unless</span> typst-ts-root-folder
    (call-interactively 'typst-ts-set-root-folder))
  (<span class="org-keyword">let</span> ((default-directory typst-ts-root-folder))
    (typst-ts-compile)))

(<span class="org-keyword">with-eval-after-load</span> 'typst-ts-mode
  (define-key typst-ts-mode-map (kbd <span class="org-string">"C-c C-c s"</span>) #'typst-ts-set-root-folder)
  (define-key typst-ts-mode-map (kbd <span class="org-string">"C-c C-c r"</span>) #'typst-ts-compile-with-root))

</pre>
</div>
</div>
</div>
<div id="outline-container-latex" class="outline-3">
<h3 id="latex"><span class="section-number-3">8.6.</span> LaTex</h3>
<div class="outline-text-3" id="text-latex">
<p>
Not sure if LaTex belongs here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Install Auctex using straight.el</span>
(<span class="org-keyword">use-package</span> auctex
  <span class="org-builtin">:straight</span> t
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"emacs-straight/auctex"</span>)
  <span class="org-builtin">:config</span>
  (<span class="org-keyword">setq</span> TeX-auto-save t)
  (<span class="org-keyword">setq</span> TeX-parse-self t)
  (<span class="org-keyword">setq-default</span> TeX-master nil)
  (<span class="org-keyword">setq</span> TeX-PDF-mode t)
  (<span class="org-keyword">setq</span> TeX-source-correlate-mode t)
  (<span class="org-keyword">setq</span> TeX-source-correlate-start-server t)
  (<span class="org-keyword">setq</span> TeX-view-program-selection '((output-pdf <span class="org-string">"PDF Tools"</span>))
        TeX-view-program-list '((<span class="org-string">"PDF Tools"</span> TeX-pdf-tools-sync-view))
        TeX-source-correlate-start-server t)

  (add-hook 'LaTeX-mode-hook 'TeX-source-correlate-mode)
  (add-hook 'LaTeX-mode-hook 'TeX-PDF-mode)
  (add-hook 'LaTeX-mode-hook 'TeX-fold-mode)
  (add-hook 'LaTeX-mode-hook 'turn-on-reftex)
  (add-hook 'LaTeX-mode-hook 'turn-on-auto-fill)
  (add-hook 'LaTeX-mode-hook 'flyspell-mode)
  (add-hook 'LaTeX-mode-hook 'LaTeX-math-mode))
</pre>
</div>


<p>
Install pdf tools using straight.el with minimal configuration
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> pdf-tools
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"vedang/pdf-tools"</span>)
  <span class="org-builtin">:config</span>
  <span class="org-comment-delimiter">;; </span><span class="org-comment">Initialize the PDF Tools package</span>
  (pdf-tools-install)

  <span class="org-comment-delimiter">;; </span><span class="org-comment">Set PDF view mode to continuous mode</span>
  (<span class="org-keyword">setq-default</span> pdf-view-display-size 'fit-width))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Enable midnight mode for PDFs</span>
(add-hook 'pdf-view-mode-hook 'pdf-view-midnight-minor-mode)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Set keybinding to install PDF Tools</span>
(global-set-key (kbd <span class="org-string">"C-c p"</span>) 'pdf-tools-install)
</pre>
</div>

<ul class="org-ul">
<li><p>
Latex Preview Pane
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> latex-preview-pane <span class="org-builtin">:straight</span> t)
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-yaml" class="outline-3">
<h3 id="yaml"><span class="section-number-3">8.7.</span> Yaml</h3>
<div class="outline-text-3" id="text-yaml">
<p>
Emacs should automatically switch on to yaml-mode while editing <code>yml</code>
or <code>yaml</code> files.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> yaml-mode
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:init</span>
  (<span class="org-keyword">push</span> '(<span class="org-string">"\\.yaml$"</span> . yaml-mode) auto-mode-alist))
</pre>
</div>
</div>
</div>
<div id="outline-container-markdown" class="outline-3">
<h3 id="markdown"><span class="section-number-3">8.8.</span> Markdown</h3>
<div class="outline-text-3" id="text-markdown">
<p>
Well, most readme files are markdown anyways.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> markdown-mode
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"jrblevin/markdown-mode"</span>)
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.md\\'"</span>)
</pre>
</div>
</div>
</div>
<div id="outline-container-lua" class="outline-3">
<h3 id="lua"><span class="section-number-3">8.9.</span> Lua</h3>
<div class="outline-text-3" id="text-lua">
<p>
Because every damn thing needs lua for configuration.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> lua-mode
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"immerrr/lua-mode"</span>)
  <span class="org-builtin">:mode</span> <span class="org-string">"\\.lua\\'"</span>)
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-ai-stuff" class="outline-2">
<h2 id="ai-stuff"><span class="section-number-2">9.</span> Non-Human Intelligence</h2>
<div class="outline-text-2" id="text-ai-stuff">
</div>
<div id="outline-container-copilot" class="outline-3">
<h3 id="copilot"><span class="section-number-3">9.1.</span> Copilot</h3>
<div class="outline-text-3" id="text-copilot">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">use-package</span> copilot
  <span class="org-builtin">:straight</span> (<span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"copilot-emacs/copilot.el"</span> <span class="org-builtin">:files</span> (<span class="org-string">"*.el"</span>))
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:hook</span> (prog-mode . copilot-mode)
  <span class="org-builtin">:bind</span> (<span class="org-builtin">:map</span> copilot-completion-map
              (<span class="org-string">"&lt;tab&gt;"</span> . 'copilot-accept-completion-by-word)
              (<span class="org-string">"TAB"</span> . 'copilot-accept-completion-by-word)
              (<span class="org-string">"C-TAB"</span> . 'copilot-accept-completion)
              (<span class="org-string">"C-&lt;tab&gt;"</span> . 'copilot-accept-completion)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Suppress warnings from copilot</span>
(<span class="org-keyword">setq</span> warning-suppress-types '((copilot)))
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-music-player" class="outline-2">
<h2 id="music-player"><span class="section-number-2">10.</span> Music Player</h2>
<div class="outline-text-2" id="text-music-player">
<p>
Emacs as a music player? Why not?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(<span class="org-keyword">use-package</span> ready-player
  <span class="org-builtin">:straight</span> (ready-player <span class="org-builtin">:type</span> git <span class="org-builtin">:host</span> github <span class="org-builtin">:repo</span> <span class="org-string">"xenodium/ready-player"</span>)
  <span class="org-builtin">:ensure</span> t
  <span class="org-builtin">:config</span>
  (ready-player-mode +1)
  <span class="org-builtin">:bind</span> ((<span class="org-string">"C-c m h"</span> . 'ready-player-toggle-shuffle)
         (<span class="org-string">"C-c m s"</span> . 'ready-player-search)
         (<span class="org-string">"C-c m q"</span> . 'ready-player-quit)
         (<span class="org-string">"C-c m f"</span> . 'ready-player-seek-forward)
         (<span class="org-string">"C-c m b"</span> . 'ready-player-seek-backward)))


(<span class="org-keyword">setq</span> ready-player-my-media-collection-location eos/music-dir)
(<span class="org-keyword">setq</span> ready-player-set-global-bindings nil)

<span class="org-comment-delimiter">;; </span><span class="org-comment">Reload the music collection</span>
(<span class="org-keyword">defun</span> <span class="org-function-name">ready-player-reload-music-collection</span> ()
  <span class="org-doc">"Reload the music collection."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">setq</span> ready-player-reload-media-collection eos/music-dir))

</pre>
</div>
</div>
</div>
<div id="outline-container-miscellaneous" class="outline-2">
<h2 id="miscellaneous"><span class="section-number-2">11.</span> Miscellaneous</h2>
<div class="outline-text-2" id="text-miscellaneous">
</div>
<div id="outline-container-custom-functions" class="outline-3">
<h3 id="custom-functions"><span class="section-number-3">11.1.</span> Custom Functions</h3>
<div class="outline-text-3" id="text-custom-functions">
<ul class="org-ul">
<li><p>
<code>eos/toggle-debug-mode</code> - Toggle debug mode on and off.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eos/toggle-debug-mode</span> ()
  <span class="org-doc">"Toggle debug-on-error mode."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">setq</span> debug-on-error (not debug-on-error))
  (<span class="org-keyword">if</span> debug-on-error
      (message <span class="org-string">"Debug mode enabled"</span>)
    (message <span class="org-string">"Debug mode disabled"</span>)))

<span class="org-comment-delimiter">;; </span><span class="org-comment">Default enable debug-on-error mode</span>
(<span class="org-keyword">setq</span> debug-on-error t)
</pre>
</div></li>

<li><p>
<code>eos/reload-config</code> to reload <code>init.el</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eos/reload-emacs-config</span> ()
  <span class="org-doc">"Reload the Emacs configuration file (init.el)."</span>
  (<span class="org-keyword">interactive</span>)
  (load-file (expand-file-name <span class="org-string">"~/.emacs.d/init.el"</span>)))
</pre>
</div></li>

<li><p>
<code>eos/open-config-file</code> to open <code>config.org</code>.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eos/open-emacs-config</span> ()
  <span class="org-doc">"Open the Emacs configuration file (config.org)."</span>
  (<span class="org-keyword">interactive</span>)
  (find-file <span class="org-string">"~/.emacs.d/config.org"</span>))
</pre>
</div></li>

<li><p>
<code>eos/kill-other-buffers</code> to kill all buffers except the current one.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Kill all other un-important buffers except the current one</span>
<span class="org-comment-delimiter">;; </span><span class="org-comment">Ask for confirmation</span>

(<span class="org-keyword">defun</span> <span class="org-function-name">eos/kill-other-buffers</span> ()
  <span class="org-doc">"Kill all other buffers, with confirmation."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">when</span> (yes-or-no-p <span class="org-string">"Are you sure you want to kill all other buffers?"</span>)
    (mapc (<span class="org-keyword">lambda</span> (buffer)
            (<span class="org-keyword">let</span> ((buffer-name (buffer-name buffer)))
              (<span class="org-keyword">unless</span> (<span class="org-keyword">or</span> (eq buffer (current-buffer))
                          (string-match <span class="org-string">"^\\*scratch\\*$"</span> buffer-name)
                          (string-match <span class="org-string">"^\\*straight"</span> buffer-name)
                          (string-match <span class="org-string">"^\\*copilot"</span> buffer-name))

                (kill-buffer buffer))))
          (buffer-list))
    (delete-other-windows)))
</pre>
</div></li>

<li><p>
<code>eos/highlight-comments</code> to highlight comments. It's tricky to revert
back to the default settings, so either re-apply the theme or reload
the config.
</p>

<div class="org-src-container">
<pre class="src src-elisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eos/toggle-highlight-comments</span> ()
  <span class="org-doc">"Set the style for highlighted comments with custom foreground, background, and slant."</span>
  (<span class="org-keyword">interactive</span>)
  (set-face-attribute 'font-lock-comment-face nil
                      <span class="org-builtin">:foreground</span> <span class="org-string">"#4A90E2"</span>
                      <span class="org-builtin">:background</span> <span class="org-string">"#E6F7FF"</span>
                      <span class="org-builtin">:slant</span> 'italic))
</pre>
</div></li>

<li><p>
<code>eos/toggle-transparency</code> to toggle transparency.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(<span class="org-keyword">defun</span> <span class="org-function-name">eos/toggle-transparency</span> ()
  <span class="org-doc">"Toggle between transparent and opaque Emacs frames."</span>
  (<span class="org-keyword">interactive</span>)
  (<span class="org-keyword">if</span> transparency-enabled
      (<span class="org-keyword">progn</span>
        (set-frame-parameter (selected-frame) 'alpha '(100 . 100))
        (<span class="org-keyword">setq</span> transparency-enabled nil)
        (message <span class="org-string">"Transparency disabled"</span>))
    (<span class="org-keyword">progn</span>
      (set-frame-parameter (selected-frame) 'alpha
                           `(,transparency-level-active . ,transparency-level-inactive))
      (<span class="org-keyword">setq</span> transparency-enabled t)
      (message <span class="org-string">"Transparency enabled"</span>))))
</pre>
</div></li>
</ul>
</div>
</div>
<div id="outline-container-custom-keybindings" class="outline-3">
<h3 id="custom-keybindings"><span class="section-number-3">11.2.</span> Custom keybindings</h3>
<div class="outline-text-3" id="text-custom-keybindings">
<p>
Custom keybindings for emacs. This section is expected to be edited
frequently, as my requirements evolve.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp"><span class="org-comment-delimiter">;; </span><span class="org-comment">Keybindings</span>
(global-set-key (kbd <span class="org-string">"&lt;escape&gt;"</span>) 'keyboard-escape-quit)          <span class="org-comment-delimiter">;; </span><span class="org-comment">ESC to quit prompts</span>

<span class="org-comment-delimiter">;; </span><span class="org-comment">Custom commands</span>
(global-set-key (kbd <span class="org-string">"C-c e c"</span>) 'eos/open-emacs-config)          <span class="org-comment-delimiter">;; </span><span class="org-comment">Open config.org</span>
(global-set-key (kbd <span class="org-string">"C-c e d"</span>) 'eos/toggle-debug-mode)          <span class="org-comment-delimiter">;; </span><span class="org-comment">Toggle debug mode</span>
(global-set-key (kbd <span class="org-string">"C-c e f"</span>) 'treemacs)                       <span class="org-comment-delimiter">;; </span><span class="org-comment">Open Treemacs</span>
(global-set-key (kbd <span class="org-string">"C-c e h"</span>) 'eos/highlight-comments)         <span class="org-comment-delimiter">;; </span><span class="org-comment">Highlight comments</span>
(global-set-key (kbd <span class="org-string">"C-c e k"</span>) 'eos/kill-other-buffers)         <span class="org-comment-delimiter">;; </span><span class="org-comment">Kill other buffers</span>
(global-set-key (kbd <span class="org-string">"C-c e r"</span>) 'eos/reload-emacs-config)        <span class="org-comment-delimiter">;; </span><span class="org-comment">Reload init.el</span>
(global-set-key (kbd <span class="org-string">"C-c e s"</span>) 'eos/toggle-transparency)        <span class="org-comment-delimiter">;; </span><span class="org-comment">Toggle transparency</span>
(global-set-key (kbd <span class="org-string">"C-c e t"</span>) 'counsel-load-theme)             <span class="org-comment-delimiter">;; </span><span class="org-comment">Switch themes</span>

</pre>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
